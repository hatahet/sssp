@(routeChanges: Seq[RouteChange], routeForm: Form[RouteChange])
@import helper._
@import controllers.Application.regionsList

@main("SSSP") {
    <table id="routes">
        <thead>
        <tr>
            <th>Route</th>
            <th>Bucket</th>
            <th>S3 Region</th>
            <th>AWS Access Key</th>
            <th>AWS Secret Key</th>
        </tr>
        </thead>
        <tbody>
        <tr>
        @form(routes.Application.handleForm, 'class -> "create") {
            <td><input type="text" name="path"
                       size=25 required autofocus
                       placeholder="new route"></td>
            <td><input type="text" name="bucket"
                       size=25 required
                       placeholder="S3 bucket"></td>
            <td><select name="region">
                @for(k <- regionsList()) {
                    <option value="@k">@k</option>
                }
                </select></td>
            <td><input type="text" name="access"
                       size=25 required
                       placeholder="access key"></td>
            <td><input type="text" name="secret"
                       size=50 required
                       placeholder="secret key"></td>
            <td><input type="submit" name="action" value="create"></td>
        }
        </tr>
        @for(change <- routeChanges) {
        <tr>
        @form(routes.Application.handleForm, 'class -> "delete") {
            <td><input type="text" name="path"
                       size=25 readonly
                       value="@change.path"></td>
            <td><input type="text" name="bucket"
                       size=25 readonly
                       value="@change.bucket"></td>
            <td><select name="region" disabled>
                @for(k <- regionsList()) {
                    @if(k == change.region) {
                    <option value="@k" selected>@k</option>
                    } else {
                    <option value="@k">@k</option>
                    }
                }
                </select></td> <!-- Make this editable some day. -->
            <td><input type="text" name="access"
                       size=25 readonly
                       value="@change.access"></td>
            <td><input type="text" name="secret"
                       size=50 readonly
                       value="@change.secret"></td>
            <td><input type="submit" name="action" value="delete"></td>
        }
        </tr>
        }
        </tbody>
    </table>
}
